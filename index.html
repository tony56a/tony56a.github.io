<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org" />
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link rel="icon" href="../../favicon.ico" />

  <title>Android Typewriter | Tony Du</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" href=
  "https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" type=
  "text/css" /><!-- Custom styles for this template -->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <link href="assets/css/theme.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">Tony Du</a>
      </div>

      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="#about">About</a></li>

          <li><a href="#hardware">Hardware</a></li>

          <li><a href="#software">Software</a></li>

          <li><a href="#credits">Credits</a></li>
        </ul>

        <ul class="nav navbar-nav navbar-right"></ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>

  <div class="container">
    <div class="jumbotron">
      <h1>Android Typewriter</h1>

      <p>A electronic typewriter interface to Android devices using the Android Open
      Accessory Protocol.</p><a class="btn btn-primary" href=
      "https://github.com/tony56a/Android-Typewriter">View on Github</a> <button type=
      "button" class="btn btn-primary" href=
      "https://github.com/tony56a/Android-Typewriter/zipball/master">Download
      .Zip</button>
    </div>

    <div id="about">
      <h2>About</h2>

      <p>The Android typewriter is an electronic typewriter that's been modified to print
      out SMSes, emails, and other messages from an Android device over the <a href=
      "https://source.android.com/accessories/protocol.html">Android Open Accessory
      Protocol</a> . Utilizes the Arduino USB host shield to communicate with host
      Android device, and the Javamail library for email notification support</p>
    </div>

    <div id="diagram">
    <h2>Block diagram</h2><img src="assets/img/typewritediagram.png" alt=
    "High-level Diagram" /></div>

    <div id="hardware">
      <h2>Hardware</h2>

      <p>The Hardware interface of the Android Typewriter was built around a Arduino Uno
      microcontroller, and consists of 3 main components, which are:</p>

      <ul>
        <li>USB host shield, which handles communication with the Android device.</li>

        <li>Keyboard spoofer, which replicates the keyboard matrix circuit of the
        typewriter.</li>

        <li>The typewriter, which has its own keyboard input replaced with the keyboard
        spoofer.</li>
      </ul>

      <div>
        <h3>USB Host Shield</h3>

        <p>To act as a Android accessory, an <a href=
        "https://www.sparkfun.com/products/9947">USB host shield</a> based on the
        MAX3421E host controller, is used to handle USB communication, and connects with
        the Arduino controller via a SPI connection.</p>
      </div>

      <div>
        <h3>Keyboard Spoofer</h3>

        <div class="col-md-4">
          <img src="assets/img/typewriterspoofer.jpg" alt="Keyboard Spoofer" />

          <div class="caption">
            Keyboard Spoofer Circuit
          </div>
        </div>
		<div class="col-md-4">
          <img src="assets/img/typewriter.jpg" alt="Typewriter Connections" />

          <div class="caption">
            Typewriter Connections
          </div>
        </div>

        <div class="col-md-4">
          <img src="assets/img/typewritercloseup.jpg" alt="Typewriter Closeup" />

          <div class="caption">
            Typewriter Connection Closeup
          </div>
        </div>

        <p>To direct input text to the typewriter, a keyboard spoofer module was used to
        fake the behaviour of a standard matrix keyboard pad. This was done by having a
        pair of <a href="http://www.ti.com/lit/ds/symlink/cd4051b.pdf">CD4051 chips</a>,
        with one configured as a demux accepting inputs from the rows output of the
        typewriter keyboard interface, and another configured as a mux, connected to the
        column inputs of the keyboard interface. The select pins, attached to the Arduino
        microcontroller, allow it to redirect the output of a row to a paticular column,
        emulating the behaviour of the circuit completion when a key is pressed on the
        keyboard.</p>
      </div>
    </div>

    <div id="software">
      <h2>Software</h2>

      <p>The software for the Android Typewriter is comprised of an Android application,
      and an Arduino firmware.</p>

      <p>The Android application is built around a foreground service that handles the
      connection over USB to the Arduino device, and listens for special broadcast
      intents that are generated by seperate SMS and GMail intent broadcast receivers for
      messages to to sent over the USB socket connection. To handle configuration, a
      seperate settings activity is used.</p>

      <p>The Arduino firmware handles the processing and output of messages. It does this
      by polling the USB controller for new input data, and sets the spoofer control pins
      using an embedded ASCII to keyboard press mapping. Additionally, an alternative
      firmware allows GSM modules with an AT command interface, like the <a href="https://www.sparkfun.com/products/9607">SMB5100B</a> to provide SMS messages as
      an input.</p>
    </div>

    <div id="credits">
      <h2>Credits</h2>

      <p>Thanks go to Follower for the example on background USB accessory services in
      Android.</p>

      <p>See: <a href=
      "http://www.labradoc.com/i/follower/p/android-background-service-usb-accessory">http://www.labradoc.com/i/follower/p/android-background-service-usb-accessory</a></p>
    </div>
  </div><!-- /.container -->
  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type=
  "text/javascript">
</script><script src=
"https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type=
"text/javascript">
</script>
</body>
</html>

